<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Deploy a production-ready predictive Lasso model — LassoDeployment • healthcareai</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>
  <link href="../extra.css" rel="stylesheet">
  
<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">healthcareai</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/site_only/fake_vignette.html">fake vignette</a>
    </li>
  </ul>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Deploy a production-ready predictive Lasso model</h1>
    </div>

    
    <p>This step allows one to</p><ul>
<li><p>Load a saved model from <code><a href='LassoDevelopment.html'>LassoDevelopment</a></code></p></li>
<li><p>Run the model against test data to generate predictions</p></li>
<li><p>Push these predictions to SQL Server</p></li>
<li><p>Identify factors that could benefit outcomes (see final examples)</p></li>
</ul>
    

    <pre class="usage"><span class='fu'>LassoDeployment</span>(<span class='no'>type</span>, <span class='no'>df</span>, <span class='no'>grainCol</span>, <span class='no'>predictedCol</span>, <span class='no'>impute</span>, <span class='no'>debug</span>, <span class='no'>cores</span>, <span class='no'>modelName</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>type</th>
      <td><p>The type of model (either 'regression' or 'classification')</p></td>
    </tr>
    <tr>
      <th>df</th>
      <td><p>Dataframe whose columns are used for new predictions. Data structure should match development as 
much as possible. Number of columns, names, types, grain, and predicted must be the same.</p></td>
    </tr>
    <tr>
      <th>grainCol</th>
      <td><p>The dataframe's column that has IDs pertaining to the grain</p></td>
    </tr>
    <tr>
      <th>predictedCol</th>
      <td><p>Column that you want to predict.</p></td>
    </tr>
    <tr>
      <th>impute</th>
      <td><p>For training df, set all-column imputation to TRUE or FALSE.
If TRUE, this uses values calculated in development.
FALSE leads to removal of rows containing NULLs and is not recommended.</p></td>
    </tr>
    <tr>
      <th>debug</th>
      <td><p>Provides the user extended output to the console, in order
to monitor the calculations throughout. Use T or F.</p></td>
    </tr>
    <tr>
      <th>cores</th>
      <td><p>Number of cores you'd like to use. Defaults to 2.</p></td>
    </tr>
    <tr>
      <th>modelName</th>
      <td><p>Optional string. Can specify the model name. If used, you must load the same one in the deploy step.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="format"><a class="anchor" href="#format"></a>Format</h2>

    <p>An object of class <code>R6ClassGenerator</code> of length 24.</p>
    
    <h2 class="hasAnchor" id="methods"><a class="anchor" href="#methods"></a>Methods</h2>

    
    <p>The above describes params for initializing a new lassoDeployment class with 
<code>$new()</code>. Individual methods are documented below.</p>
    
    <h2 class="hasAnchor" id="-code-new-code-"><a class="anchor" href="#-code-new-code-"></a>&lt;code&gt;$new()&lt;/code&gt;</h2>

    
    <p>Initializes a new lasso deployment class using the 
parameters saved in <code>p</code>, documented above. This method loads, cleans, and prepares data for
generating predictions. 
<em>Usage:</em> <code>$new(p)</code></p>
    
    <h2 class="hasAnchor" id="-code-deploy-code-"><a class="anchor" href="#-code-deploy-code-"></a>&lt;code&gt;$deploy()&lt;/code&gt;</h2>

    
    <p>Generate new predictions, calculate top factors, and prepare the output dataframe. 
<em>Usage:</em><code>$deploy()</code></p>
    
    <h2 class="hasAnchor" id="-code-gettopfactors-code-"><a class="anchor" href="#-code-gettopfactors-code-"></a>&lt;code&gt;$getTopFactors()&lt;/code&gt;</h2>

    
    <p>Return the grain, all top factors, and their weights. 
<em>Usage:</em> <code>$getTopFactors(numberOfFactors = NA, includeWeights = FALSE)</code> 
Params: 
  - <code>numberOfFactors</code> returns the top <code>n</code> factors. Defaults to all factors. 
  - <code>includeWeights</code> If <code>TRUE</code>, returns weights associated with each factor.</p>
    
    <h2 class="hasAnchor" id="-code-getoutdf-code-"><a class="anchor" href="#-code-getoutdf-code-"></a>&lt;code&gt;$getOutDf()&lt;/code&gt;</h2>

    
    <p>Returns the output dataframe. 
<em>Usage:</em> <code>$getOutDf()</code></p>
    
    <h2 class="hasAnchor" id="-code-performnewpredictions-code-"><a class="anchor" href="#-code-performnewpredictions-code-"></a>&lt;code&gt;$performNewPredictions()&lt;/code&gt;</h2>

    
    <p>Performs predictions on new data which has gone through the necessary
preprocessing. 
<em>Usage:</em> <code>$performNewPredictions(newData)</code> 
Params: 
  - <code>newData</code> A dataframe on which the model can make predictions.</p>
    
    <h2 class="hasAnchor" id="-code-getprocessvariablesdf-code-"><a class="anchor" href="#-code-getprocessvariablesdf-code-"></a>&lt;code&gt;$getProcessVariablesDf()&lt;/code&gt;</h2>

    
    <p>Get a data frame with expected changes in outcomes conditional on process
variable changes. 
<em>Usage:</em> <code>$getProcessVariablesDf(modifiableVariables, 
variableLevels = NULL, grainColumnValues = NULL, smallerBetter = TRUE, 
repeatedFactors = FALSE, numTopFactors = 3)</code> 
Params: 
  - <code>modifiableVariables</code> A vector of names of modifiable variables.
  - <code>variableLevels</code> A list of variable values indexed by 
  modifiable variable names. This allows one to use numeric variables by 
  specifying baselines and to restrict categorical variables by limiting 
  which factors can be surfaced.
  - <code>grainColumnIDs</code> A vector of grain column IDs. If <code>NULL</code>, the 
  whole deployment dataframe will be used.
  - <code>smallerBetter</code> A boolean determining whether or not lower 
  predictions/probabilities are more desirable. 
  - <code>repeatedFactors</code> A boolean determining whether or not a single 
  modifiable factor can be listed several times. 
  - <code>numTopFactors</code> The number of modifiable process variables to 
  include in each row.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <p><code><a href='healthcareai.html'>healthcareai</a></code>
    <code><a href='writeData.html'>writeData</a></code>
    <code><a href='selectData.html'>selectData</a></code></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>

<span class='co'>#### Classification Example using csv data ####</span>
<span class='co'>## 1. Loading data and packages.</span>
<span class='no'>ptm</span> <span class='kw'>&lt;-</span> <span class='fu'>proc.time</span>()
<span class='fu'>library</span>(<span class='no'>healthcareai</span>)
<span class='co'># setwd('C:/Yourscriptlocation/Useforwardslashes') # Uncomment if using csv</span>

<span class='co'># Can delete this line in your work</span>
<span class='no'>csvfile</span> <span class='kw'>&lt;-</span> <span class='fu'>system.file</span>(<span class='st'>"extdata"</span>,
                       <span class='st'>"HCRDiabetesClinical.csv"</span>,
                       <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"healthcareai"</span>)

<span class='co'># Replace csvfile with 'path/file'</span>
<span class='no'>df</span> <span class='kw'>&lt;-</span> <span class='fu'>read.csv</span>(<span class='kw'>file</span> <span class='kw'>=</span> <span class='no'>csvfile</span>,
               <span class='kw'>header</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
               <span class='kw'>na.strings</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"NULL"</span>, <span class='st'>"NA"</span>, <span class='st'>""</span>))

<span class='no'>df</span>$<span class='no'>PatientID</span> <span class='kw'>&lt;-</span> <span class='kw'>NULL</span> <span class='co'># Only one ID column (ie, PatientEncounterID) is needed remove this column</span>

<span class='co'># Save a dataframe for validation later on</span>
<span class='no'>dfDeploy</span> <span class='kw'>&lt;-</span> <span class='no'>df</span>[<span class='fl'>951</span>:<span class='fl'>1000</span>,]

<span class='co'>## 2. Train and save the model using DEVELOP</span>
<span class='fu'>print</span>(<span class='st'>'Historical, development data:'</span>)
<span class='fu'>str</span>(<span class='no'>df</span>)

<span class='fu'>set.seed</span>(<span class='fl'>42</span>)
<span class='no'>p</span> <span class='kw'>&lt;-</span> <span class='no'>SupervisedModelDevelopmentParams</span>$<span class='fu'>new</span>()
<span class='no'>p</span>$<span class='no'>df</span> <span class='kw'>&lt;-</span> <span class='no'>df</span>
<span class='no'>p</span>$<span class='no'>type</span> <span class='kw'>&lt;-</span> <span class='st'>"classification"</span>
<span class='no'>p</span>$<span class='no'>impute</span> <span class='kw'>&lt;-</span> <span class='fl'>TRUE</span>
<span class='no'>p</span>$<span class='no'>grainCol</span> <span class='kw'>&lt;-</span> <span class='st'>"PatientEncounterID"</span>
<span class='no'>p</span>$<span class='no'>predictedCol</span> <span class='kw'>&lt;-</span> <span class='st'>"ThirtyDayReadmitFLG"</span>
<span class='no'>p</span>$<span class='no'>debug</span> <span class='kw'>&lt;-</span> <span class='fl'>FALSE</span>
<span class='no'>p</span>$<span class='no'>cores</span> <span class='kw'>&lt;-</span> <span class='fl'>1</span>

<span class='co'># Run Lasso</span>
<span class='no'>Lasso</span><span class='kw'>&lt;-</span> <span class='no'>LassoDevelopment</span>$<span class='fu'>new</span>(<span class='no'>p</span>)
<span class='no'>Lasso</span>$<span class='fu'>run</span>()

<span class='co'>## 3. Load saved model and use DEPLOY to generate predictions. </span>
<span class='fu'>print</span>(<span class='st'>'Fake production data:'</span>)
<span class='fu'>str</span>(<span class='no'>dfDeploy</span>)

<span class='no'>p2</span> <span class='kw'>&lt;-</span> <span class='no'>SupervisedModelDeploymentParams</span>$<span class='fu'>new</span>()
<span class='no'>p2</span>$<span class='no'>type</span> <span class='kw'>&lt;-</span> <span class='st'>"classification"</span>
<span class='no'>p2</span>$<span class='no'>df</span> <span class='kw'>&lt;-</span> <span class='no'>dfDeploy</span>
<span class='no'>p2</span>$<span class='no'>grainCol</span> <span class='kw'>&lt;-</span> <span class='st'>"PatientEncounterID"</span>
<span class='no'>p2</span>$<span class='no'>predictedCol</span> <span class='kw'>&lt;-</span> <span class='st'>"ThirtyDayReadmitFLG"</span>
<span class='no'>p2</span>$<span class='no'>impute</span> <span class='kw'>&lt;-</span> <span class='fl'>TRUE</span>
<span class='no'>p2</span>$<span class='no'>debug</span> <span class='kw'>&lt;-</span> <span class='fl'>FALSE</span>
<span class='no'>p2</span>$<span class='no'>cores</span> <span class='kw'>&lt;-</span> <span class='fl'>1</span>

<span class='no'>dL</span> <span class='kw'>&lt;-</span> <span class='no'>LassoDeployment</span>$<span class='fu'>new</span>(<span class='no'>p2</span>)
<span class='no'>dL</span>$<span class='fu'>deploy</span>()

<span class='no'>dfOut</span> <span class='kw'>&lt;-</span> <span class='no'>dL</span>$<span class='fu'>getOutDf</span>()
<span class='fu'>head</span>(<span class='no'>dfOut</span>)
<span class='co'># Write to CSV (or JSON, MySQL, etc) using plain R syntax</span>
<span class='co'># write.csv(dfOut,'path/predictionsfile.csv')</span>

<span class='fu'>print</span>(<span class='fu'>proc.time</span>() - <span class='no'>ptm</span>)

<span class='co'># }</span><span class='co'># NOT RUN {</span>
<span class='co'>#### Classification example using SQL Server data ####</span>
<span class='co'># This example requires you to first create a table in SQL Server</span>
<span class='co'># If you prefer to not use SAMD, execute this in SSMS to create output table:</span>
<span class='co'># CREATE TABLE dbo.HCRDeployClassificationBASE(</span>
<span class='co'>#   BindingID float, BindingNM varchar(255), LastLoadDTS datetime2,</span>
<span class='co'>#   PatientEncounterID int, &lt;--change to match inputID</span>
<span class='co'>#   PredictedProbNBR decimal(38, 2),</span>
<span class='co'>#   Factor1TXT varchar(255), Factor2TXT varchar(255), Factor3TXT varchar(255)</span>
<span class='co'># )</span>

<span class='co'>## 1. Loading data and packages.</span>
<span class='no'>ptm</span> <span class='kw'>&lt;-</span> <span class='fu'>proc.time</span>()
<span class='fu'>library</span>(<span class='no'>healthcareai</span>)

<span class='no'>connection.string</span> <span class='kw'>&lt;-</span> <span class='st'>"
driver={SQL Server};
server=localhost;
database=SAM;
trusted_connection=true
"</span>

<span class='no'>query</span> <span class='kw'>&lt;-</span> <span class='st'>"
SELECT
[PatientEncounterID] --Only need one ID column for lasso
,[SystolicBPNBR]
,[LDLNBR]
,[A1CNBR]
,[GenderFLG]
,[ThirtyDayReadmitFLG]
FROM [SAM].[dbo].[HCRDiabetesClinical]
"</span>

<span class='no'>df</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='selectData.html'>selectData</a></span>(<span class='no'>connection.string</span>, <span class='no'>query</span>)

<span class='co'># Save a dataframe for validation later on</span>
<span class='no'>dfDeploy</span> <span class='kw'>&lt;-</span> <span class='no'>df</span>[<span class='fl'>951</span>:<span class='fl'>1000</span>,]

<span class='co'>## 2. Train and save the model using DEVELOP</span>
<span class='fu'>print</span>(<span class='st'>'Historical, development data:'</span>)
<span class='fu'>str</span>(<span class='no'>df</span>)

<span class='fu'>set.seed</span>(<span class='fl'>42</span>)
<span class='no'>p</span> <span class='kw'>&lt;-</span> <span class='no'>SupervisedModelDevelopmentParams</span>$<span class='fu'>new</span>()
<span class='no'>p</span>$<span class='no'>df</span> <span class='kw'>&lt;-</span> <span class='no'>df</span>
<span class='no'>p</span>$<span class='no'>type</span> <span class='kw'>&lt;-</span> <span class='st'>"classification"</span>
<span class='no'>p</span>$<span class='no'>impute</span> <span class='kw'>&lt;-</span> <span class='fl'>TRUE</span>
<span class='no'>p</span>$<span class='no'>grainCol</span> <span class='kw'>&lt;-</span> <span class='st'>"PatientEncounterID"</span>
<span class='no'>p</span>$<span class='no'>predictedCol</span> <span class='kw'>&lt;-</span> <span class='st'>"ThirtyDayReadmitFLG"</span>
<span class='no'>p</span>$<span class='no'>debug</span> <span class='kw'>&lt;-</span> <span class='fl'>FALSE</span>
<span class='no'>p</span>$<span class='no'>cores</span> <span class='kw'>&lt;-</span> <span class='fl'>1</span>

<span class='co'># Run Lasso</span>
<span class='no'>Lasso</span><span class='kw'>&lt;-</span> <span class='no'>LassoDevelopment</span>$<span class='fu'>new</span>(<span class='no'>p</span>)
<span class='no'>Lasso</span>$<span class='fu'>run</span>()

<span class='co'>## 3. Load saved model and use DEPLOY to generate predictions. </span>
<span class='fu'>print</span>(<span class='st'>'Fake production data:'</span>)
<span class='fu'>str</span>(<span class='no'>dfDeploy</span>)

<span class='no'>p2</span> <span class='kw'>&lt;-</span> <span class='no'>SupervisedModelDeploymentParams</span>$<span class='fu'>new</span>()
<span class='no'>p2</span>$<span class='no'>type</span> <span class='kw'>&lt;-</span> <span class='st'>"classification"</span>
<span class='no'>p2</span>$<span class='no'>df</span> <span class='kw'>&lt;-</span> <span class='no'>dfDeploy</span>
<span class='no'>p2</span>$<span class='no'>grainCol</span> <span class='kw'>&lt;-</span> <span class='st'>"PatientEncounterID"</span>
<span class='no'>p2</span>$<span class='no'>predictedCol</span> <span class='kw'>&lt;-</span> <span class='st'>"ThirtyDayReadmitFLG"</span>
<span class='no'>p2</span>$<span class='no'>impute</span> <span class='kw'>&lt;-</span> <span class='fl'>TRUE</span>
<span class='no'>p2</span>$<span class='no'>debug</span> <span class='kw'>&lt;-</span> <span class='fl'>FALSE</span>
<span class='no'>p2</span>$<span class='no'>cores</span> <span class='kw'>&lt;-</span> <span class='fl'>1</span>

<span class='no'>dL</span> <span class='kw'>&lt;-</span> <span class='no'>LassoDeployment</span>$<span class='fu'>new</span>(<span class='no'>p2</span>)
<span class='no'>dL</span>$<span class='fu'>deploy</span>()
<span class='no'>dfOut</span> <span class='kw'>&lt;-</span> <span class='no'>dL</span>$<span class='fu'>getOutDf</span>()

<span class='fu'><a href='writeData.html'>writeData</a></span>(<span class='kw'>MSSQLConnectionString</span> <span class='kw'>=</span> <span class='no'>connection.string</span>,
          <span class='kw'>df</span> <span class='kw'>=</span> <span class='no'>dfOut</span>,
          <span class='kw'>tableName</span> <span class='kw'>=</span> <span class='st'>'HCRDeployClassificationBASE'</span>)

<span class='fu'>print</span>(<span class='fu'>proc.time</span>() - <span class='no'>ptm</span>)
<span class='co'># }</span># NOT RUN {
# }
<span class='co'># NOT RUN {</span>
<span class='co'>#### Regression Example using SQL Server data ####</span>
<span class='co'># This example requires you to first create a table in SQL Server</span>
<span class='co'># If you prefer to not use SAMD, execute this in SSMS to create output table:</span>
<span class='co'># CREATE TABLE dbo.HCRDeployRegressionBASE(</span>
<span class='co'>#   BindingID float, BindingNM varchar(255), LastLoadDTS datetime2,</span>
<span class='co'>#   PatientEncounterID int, &lt;--change to match inputID</span>
<span class='co'>#   PredictedValueNBR decimal(38, 2),</span>
<span class='co'>#   Factor1TXT varchar(255), Factor2TXT varchar(255), Factor3TXT varchar(255)</span>
<span class='co'># )</span>

<span class='co'>## 1. Loading data and packages.</span>
<span class='no'>ptm</span> <span class='kw'>&lt;-</span> <span class='fu'>proc.time</span>()
<span class='fu'>library</span>(<span class='no'>healthcareai</span>)

<span class='no'>connection.string</span> <span class='kw'>&lt;-</span> <span class='st'>"
driver={SQL Server};
server=localhost;
database=SAM;
trusted_connection=true
"</span>

<span class='no'>query</span> <span class='kw'>&lt;-</span> <span class='st'>"
SELECT
[PatientEncounterID] --Only need one ID column for lasso
,[SystolicBPNBR]
,[LDLNBR]
,[A1CNBR]
,[GenderFLG]
,[ThirtyDayReadmitFLG]
FROM [SAM].[dbo].[HCRDiabetesClinical]
"</span>

<span class='no'>df</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='selectData.html'>selectData</a></span>(<span class='no'>connection.string</span>, <span class='no'>query</span>)

<span class='co'># Save a dataframe for validation later on</span>
<span class='no'>dfDeploy</span> <span class='kw'>&lt;-</span> <span class='no'>df</span>[<span class='fl'>951</span>:<span class='fl'>1000</span>,]

<span class='co'>## 2. Train and save the model using DEVELOP</span>
<span class='fu'>print</span>(<span class='st'>'Historical, development data:'</span>)
<span class='fu'>str</span>(<span class='no'>df</span>)

<span class='fu'>set.seed</span>(<span class='fl'>42</span>)
<span class='no'>p</span> <span class='kw'>&lt;-</span> <span class='no'>SupervisedModelDevelopmentParams</span>$<span class='fu'>new</span>()
<span class='no'>p</span>$<span class='no'>df</span> <span class='kw'>&lt;-</span> <span class='no'>df</span>
<span class='no'>p</span>$<span class='no'>type</span> <span class='kw'>&lt;-</span> <span class='st'>"regression"</span>
<span class='no'>p</span>$<span class='no'>impute</span> <span class='kw'>&lt;-</span> <span class='fl'>TRUE</span>
<span class='no'>p</span>$<span class='no'>grainCol</span> <span class='kw'>&lt;-</span> <span class='st'>"PatientEncounterID"</span>
<span class='no'>p</span>$<span class='no'>predictedCol</span> <span class='kw'>&lt;-</span> <span class='st'>"A1CNBR"</span>
<span class='no'>p</span>$<span class='no'>debug</span> <span class='kw'>&lt;-</span> <span class='fl'>FALSE</span>
<span class='no'>p</span>$<span class='no'>cores</span> <span class='kw'>&lt;-</span> <span class='fl'>1</span>

<span class='co'># Run lasso</span>
<span class='no'>Lasso</span><span class='kw'>&lt;-</span> <span class='no'>LassoDevelopment</span>$<span class='fu'>new</span>(<span class='no'>p</span>)
<span class='no'>Lasso</span>$<span class='fu'>run</span>()

<span class='co'>## 3. Load saved model and use DEPLOY to generate predictions. </span>
<span class='fu'>print</span>(<span class='st'>'Fake production data:'</span>)
<span class='fu'>str</span>(<span class='no'>dfDeploy</span>)

<span class='no'>p2</span> <span class='kw'>&lt;-</span> <span class='no'>SupervisedModelDeploymentParams</span>$<span class='fu'>new</span>()
<span class='no'>p2</span>$<span class='no'>type</span> <span class='kw'>&lt;-</span> <span class='st'>"regression"</span>
<span class='no'>p2</span>$<span class='no'>df</span> <span class='kw'>&lt;-</span> <span class='no'>dfDeploy</span>
<span class='no'>p2</span>$<span class='no'>grainCol</span> <span class='kw'>&lt;-</span> <span class='st'>"PatientEncounterID"</span>
<span class='no'>p2</span>$<span class='no'>predictedCol</span> <span class='kw'>&lt;-</span> <span class='st'>"A1CNBR"</span>
<span class='no'>p2</span>$<span class='no'>impute</span> <span class='kw'>&lt;-</span> <span class='fl'>TRUE</span>
<span class='no'>p2</span>$<span class='no'>debug</span> <span class='kw'>&lt;-</span> <span class='fl'>FALSE</span>
<span class='no'>p2</span>$<span class='no'>cores</span> <span class='kw'>&lt;-</span> <span class='fl'>1</span>

<span class='no'>dL</span> <span class='kw'>&lt;-</span> <span class='no'>LassoDeployment</span>$<span class='fu'>new</span>(<span class='no'>p2</span>)
<span class='no'>dL</span>$<span class='fu'>deploy</span>()
<span class='no'>dfOut</span> <span class='kw'>&lt;-</span> <span class='no'>dL</span>$<span class='fu'>getOutDf</span>()

<span class='fu'><a href='writeData.html'>writeData</a></span>(<span class='kw'>MSSQLConnectionString</span> <span class='kw'>=</span> <span class='no'>connection.string</span>,
          <span class='kw'>df</span> <span class='kw'>=</span> <span class='no'>dfOut</span>,
          <span class='kw'>tableName</span> <span class='kw'>=</span> <span class='st'>'HCRDeployRegressionBASE'</span>)

<span class='fu'>print</span>(<span class='fu'>proc.time</span>() - <span class='no'>ptm</span>)
<span class='co'># }</span><span class='co'># NOT RUN {</span>
<span class='co'>#### Classification example pulling from CSV and writing to SQLite ####</span>

<span class='co'>## 1. Loading data and packages.</span>
<span class='no'>ptm</span> <span class='kw'>&lt;-</span> <span class='fu'>proc.time</span>()
<span class='fu'>library</span>(<span class='no'>healthcareai</span>)

<span class='co'># Can delete these system.file lines in your work</span>
<span class='no'>csvfile</span> <span class='kw'>&lt;-</span> <span class='fu'>system.file</span>(<span class='st'>"extdata"</span>,
                       <span class='st'>"HCRDiabetesClinical.csv"</span>,
                       <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"healthcareai"</span>)

<span class='no'>sqliteFile</span> <span class='kw'>&lt;-</span> <span class='fu'>system.file</span>(<span class='st'>"extdata"</span>,
                          <span class='st'>"unit-test.sqlite"</span>,
                          <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"healthcareai"</span>)

<span class='co'># Read in CSV; replace csvfile with 'path/file'</span>
<span class='no'>df</span> <span class='kw'>&lt;-</span> <span class='fu'>read.csv</span>(<span class='kw'>file</span> <span class='kw'>=</span> <span class='no'>csvfile</span>,
               <span class='kw'>header</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
               <span class='kw'>na.strings</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"NULL"</span>, <span class='st'>"NA"</span>, <span class='st'>""</span>))

<span class='no'>df</span>$<span class='no'>PatientID</span> <span class='kw'>&lt;-</span> <span class='kw'>NULL</span> <span class='co'># Only one ID column (ie, PatientEncounterID) is needed</span>

<span class='co'># Save a dataframe for validation later on</span>
<span class='no'>dfDeploy</span> <span class='kw'>&lt;-</span> <span class='no'>df</span>[<span class='fl'>951</span>:<span class='fl'>1000</span>,]

<span class='co'>## 2. Train and save the model using DEVELOP</span>
<span class='fu'>print</span>(<span class='st'>'Historical, development data:'</span>)
<span class='fu'>str</span>(<span class='no'>df</span>)

<span class='fu'>set.seed</span>(<span class='fl'>42</span>)
<span class='no'>p</span> <span class='kw'>&lt;-</span> <span class='no'>SupervisedModelDevelopmentParams</span>$<span class='fu'>new</span>()
<span class='no'>p</span>$<span class='no'>df</span> <span class='kw'>&lt;-</span> <span class='no'>df</span>
<span class='no'>p</span>$<span class='no'>type</span> <span class='kw'>&lt;-</span> <span class='st'>"classification"</span>
<span class='no'>p</span>$<span class='no'>impute</span> <span class='kw'>&lt;-</span> <span class='fl'>TRUE</span>
<span class='no'>p</span>$<span class='no'>grainCol</span> <span class='kw'>&lt;-</span> <span class='st'>"PatientEncounterID"</span>
<span class='no'>p</span>$<span class='no'>predictedCol</span> <span class='kw'>&lt;-</span> <span class='st'>"ThirtyDayReadmitFLG"</span>
<span class='no'>p</span>$<span class='no'>debug</span> <span class='kw'>&lt;-</span> <span class='fl'>FALSE</span>
<span class='no'>p</span>$<span class='no'>cores</span> <span class='kw'>&lt;-</span> <span class='fl'>1</span>

<span class='co'># Run lasso</span>
<span class='no'>Lasso</span> <span class='kw'>&lt;-</span> <span class='no'>LassoDevelopment</span>$<span class='fu'>new</span>(<span class='no'>p</span>)
<span class='no'>Lasso</span>$<span class='fu'>run</span>()

<span class='co'>## 3. Load saved model and use DEPLOY to generate predictions. </span>
<span class='fu'>print</span>(<span class='st'>'Fake production data:'</span>)
<span class='fu'>str</span>(<span class='no'>dfDeploy</span>)

<span class='no'>p2</span> <span class='kw'>&lt;-</span> <span class='no'>SupervisedModelDeploymentParams</span>$<span class='fu'>new</span>()
<span class='no'>p2</span>$<span class='no'>type</span> <span class='kw'>&lt;-</span> <span class='st'>"classification"</span>
<span class='no'>p2</span>$<span class='no'>df</span> <span class='kw'>&lt;-</span> <span class='no'>dfDeploy</span>
<span class='no'>p2</span>$<span class='no'>grainCol</span> <span class='kw'>&lt;-</span> <span class='st'>"PatientEncounterID"</span>
<span class='no'>p2</span>$<span class='no'>predictedCol</span> <span class='kw'>&lt;-</span> <span class='st'>"ThirtyDayReadmitFLG"</span>
<span class='no'>p2</span>$<span class='no'>impute</span> <span class='kw'>&lt;-</span> <span class='fl'>TRUE</span>
<span class='no'>p2</span>$<span class='no'>debug</span> <span class='kw'>&lt;-</span> <span class='fl'>FALSE</span>
<span class='no'>p2</span>$<span class='no'>cores</span> <span class='kw'>&lt;-</span> <span class='fl'>1</span>

<span class='no'>dL</span> <span class='kw'>&lt;-</span> <span class='no'>LassoDeployment</span>$<span class='fu'>new</span>(<span class='no'>p2</span>)
<span class='no'>dL</span>$<span class='fu'>deploy</span>()
<span class='no'>dfOut</span> <span class='kw'>&lt;-</span> <span class='no'>dL</span>$<span class='fu'>getOutDf</span>()

<span class='fu'><a href='writeData.html'>writeData</a></span>(<span class='kw'>SQLiteFileName</span> <span class='kw'>=</span> <span class='no'>sqliteFile</span>,
          <span class='kw'>df</span> <span class='kw'>=</span> <span class='no'>dfOut</span>,
          <span class='kw'>tableName</span> <span class='kw'>=</span> <span class='st'>'HCRDeployClassificationBASE'</span>)

<span class='fu'>print</span>(<span class='fu'>proc.time</span>() - <span class='no'>ptm</span>)

<span class='co'>#### Regression example pulling from CSV and writing to SQLite ####</span>

<span class='co'>## 1. Loading data and packages.</span>
<span class='no'>ptm</span> <span class='kw'>&lt;-</span> <span class='fu'>proc.time</span>()
<span class='fu'>library</span>(<span class='no'>healthcareai</span>)

<span class='co'># Can delete these system.file lines in your work</span>
<span class='no'>csvfile</span> <span class='kw'>&lt;-</span> <span class='fu'>system.file</span>(<span class='st'>"extdata"</span>,
                       <span class='st'>"HCRDiabetesClinical.csv"</span>,
                       <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"healthcareai"</span>)

<span class='no'>sqliteFile</span> <span class='kw'>&lt;-</span> <span class='fu'>system.file</span>(<span class='st'>"extdata"</span>,
                          <span class='st'>"unit-test.sqlite"</span>,
                          <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"healthcareai"</span>)

<span class='co'># Read in CSV; replace csvfile with 'path/file'</span>
<span class='no'>df</span> <span class='kw'>&lt;-</span> <span class='fu'>read.csv</span>(<span class='kw'>file</span> <span class='kw'>=</span> <span class='no'>csvfile</span>,
               <span class='kw'>header</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
               <span class='kw'>na.strings</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"NULL"</span>, <span class='st'>"NA"</span>, <span class='st'>""</span>))

<span class='no'>df</span>$<span class='no'>PatientID</span> <span class='kw'>&lt;-</span> <span class='kw'>NULL</span> <span class='co'># Only one ID column (ie, PatientEncounterID) is needed remove this column</span>

<span class='co'># Save a dataframe for validation later on</span>
<span class='no'>dfDeploy</span> <span class='kw'>&lt;-</span> <span class='no'>df</span>[<span class='fl'>951</span>:<span class='fl'>1000</span>,]

<span class='co'>## 2. Train and save the model using DEVELOP</span>
<span class='fu'>print</span>(<span class='st'>'Historical, development data:'</span>)
<span class='fu'>str</span>(<span class='no'>df</span>)

<span class='fu'>set.seed</span>(<span class='fl'>42</span>)
<span class='no'>p</span> <span class='kw'>&lt;-</span> <span class='no'>SupervisedModelDevelopmentParams</span>$<span class='fu'>new</span>()
<span class='no'>p</span>$<span class='no'>df</span> <span class='kw'>&lt;-</span> <span class='no'>df</span>
<span class='no'>p</span>$<span class='no'>type</span> <span class='kw'>&lt;-</span> <span class='st'>"regression"</span>
<span class='no'>p</span>$<span class='no'>impute</span> <span class='kw'>&lt;-</span> <span class='fl'>TRUE</span>
<span class='no'>p</span>$<span class='no'>grainCol</span> <span class='kw'>&lt;-</span> <span class='st'>"PatientEncounterID"</span>
<span class='no'>p</span>$<span class='no'>predictedCol</span> <span class='kw'>&lt;-</span> <span class='st'>"A1CNBR"</span>
<span class='no'>p</span>$<span class='no'>debug</span> <span class='kw'>&lt;-</span> <span class='fl'>FALSE</span>
<span class='no'>p</span>$<span class='no'>cores</span> <span class='kw'>&lt;-</span> <span class='fl'>1</span>

<span class='co'># Run lasso</span>
<span class='no'>Lasso</span><span class='kw'>&lt;-</span> <span class='no'>LassoDevelopment</span>$<span class='fu'>new</span>(<span class='no'>p</span>)
<span class='no'>Lasso</span>$<span class='fu'>run</span>()

<span class='co'>## 3. Load saved model and use DEPLOY to generate predictions. </span>
<span class='fu'>print</span>(<span class='st'>'Fake production data:'</span>)
<span class='fu'>str</span>(<span class='no'>dfDeploy</span>)

<span class='no'>p2</span> <span class='kw'>&lt;-</span> <span class='no'>SupervisedModelDeploymentParams</span>$<span class='fu'>new</span>()
<span class='no'>p2</span>$<span class='no'>type</span> <span class='kw'>&lt;-</span> <span class='st'>"regression"</span>
<span class='no'>p2</span>$<span class='no'>df</span> <span class='kw'>&lt;-</span> <span class='no'>dfDeploy</span>
<span class='no'>p2</span>$<span class='no'>grainCol</span> <span class='kw'>&lt;-</span> <span class='st'>"PatientEncounterID"</span>
<span class='no'>p2</span>$<span class='no'>predictedCol</span> <span class='kw'>&lt;-</span> <span class='st'>"A1CNBR"</span>
<span class='no'>p2</span>$<span class='no'>impute</span> <span class='kw'>&lt;-</span> <span class='fl'>TRUE</span>
<span class='no'>p2</span>$<span class='no'>debug</span> <span class='kw'>&lt;-</span> <span class='fl'>FALSE</span>
<span class='no'>p2</span>$<span class='no'>cores</span> <span class='kw'>&lt;-</span> <span class='fl'>1</span>

<span class='no'>dL</span> <span class='kw'>&lt;-</span> <span class='no'>LassoDeployment</span>$<span class='fu'>new</span>(<span class='no'>p2</span>)
<span class='no'>dL</span>$<span class='fu'>deploy</span>()
<span class='no'>dfOut</span> <span class='kw'>&lt;-</span> <span class='no'>dL</span>$<span class='fu'>getOutDf</span>()

<span class='fu'><a href='writeData.html'>writeData</a></span>(<span class='kw'>SQLiteFileName</span> <span class='kw'>=</span> <span class='no'>sqliteFile</span>,
          <span class='kw'>df</span> <span class='kw'>=</span> <span class='no'>dfOut</span>,
          <span class='kw'>tableName</span> <span class='kw'>=</span> <span class='st'>'HCRDeployRegressionBASE'</span>)

<span class='fu'>print</span>(<span class='fu'>proc.time</span>() - <span class='no'>ptm</span>)

<span class='co'>#### Identify factors that could benefit outcomes: getProcessVariablesDf ####</span>
<span class='co'>#############################################################################</span>

<span class='co'># getProcessVariableDf() identifies opportunities for improved outcomes at</span>
<span class='co'># the grain level. It is important that the variables ("modifiableVariables")</span>
<span class='co'># and values ("variableLevels") used in this function are under the control </span>
<span class='co'># of the care management process. The best use case for this function is a</span>
<span class='co'># "natural experiment" where otherwise similar groups had different </span>
<span class='co'># treatments applied to them, and that treatment is the modifiable variable</span>
<span class='co'># of interest.</span>

<span class='co'># This example shows how to use the getProcessVariableDf() function, using </span>
<span class='co'># another readmission-prediction model. In this example systolic blood pressure </span>
<span class='co'># is converted into a categorical variable to demonstrate functionality.</span>
<span class='co'># Because of the lasso's automatic feature selection, this example is fairly</span>
<span class='co'># limited. For a wider variety of examples, see ?RandomForestDeployment</span>

<span class='no'>csvfile</span> <span class='kw'>&lt;-</span> <span class='fu'>system.file</span>(<span class='st'>"extdata"</span>,
                       <span class='st'>"HCRDiabetesClinical.csv"</span>,
                       <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"healthcareai"</span>)

<span class='co'># Replace csvfile with 'path/file'</span>
<span class='no'>df</span> <span class='kw'>&lt;-</span> <span class='fu'>read.csv</span>(<span class='kw'>file</span> <span class='kw'>=</span> <span class='no'>csvfile</span>,
               <span class='kw'>header</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
               <span class='kw'>na.strings</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"NULL"</span>, <span class='st'>"NA"</span>, <span class='st'>""</span>))

<span class='no'>df</span>$<span class='no'>PatientID</span> <span class='kw'>&lt;-</span> <span class='kw'>NULL</span> <span class='co'># Remove extra ID</span>

<span class='co'># Save a dataframe for validation later on</span>
<span class='no'>dfDeploy</span> <span class='kw'>&lt;-</span> <span class='no'>df</span>[<span class='fl'>951</span>:<span class='fl'>1000</span>,]

<span class='co'>## Develop and Deploy the model</span>
<span class='fu'>set.seed</span>(<span class='fl'>42</span>)
<span class='no'>p</span> <span class='kw'>&lt;-</span> <span class='no'>SupervisedModelDevelopmentParams</span>$<span class='fu'>new</span>()
<span class='no'>p</span>$<span class='no'>df</span> <span class='kw'>&lt;-</span> <span class='no'>df</span>
<span class='no'>p</span>$<span class='no'>type</span> <span class='kw'>&lt;-</span> <span class='st'>"classification"</span>
<span class='no'>p</span>$<span class='no'>impute</span> <span class='kw'>&lt;-</span> <span class='fl'>TRUE</span>
<span class='no'>p</span>$<span class='no'>grainCol</span> <span class='kw'>&lt;-</span> <span class='st'>"PatientEncounterID"</span>
<span class='no'>p</span>$<span class='no'>predictedCol</span> <span class='kw'>&lt;-</span> <span class='st'>"ThirtyDayReadmitFLG"</span>
<span class='no'>p</span>$<span class='no'>debug</span> <span class='kw'>&lt;-</span> <span class='fl'>FALSE</span>
<span class='no'>p</span>$<span class='no'>cores</span> <span class='kw'>&lt;-</span> <span class='fl'>1</span>

<span class='no'>Lasso</span> <span class='kw'>&lt;-</span> <span class='no'>LassoDevelopment</span>$<span class='fu'>new</span>(<span class='no'>p</span>)
<span class='no'>Lasso</span>$<span class='fu'>run</span>()

<span class='no'>p2</span> <span class='kw'>&lt;-</span> <span class='no'>SupervisedModelDeploymentParams</span>$<span class='fu'>new</span>()
<span class='no'>p2</span>$<span class='no'>type</span> <span class='kw'>&lt;-</span> <span class='st'>"classification"</span>
<span class='no'>p2</span>$<span class='no'>df</span> <span class='kw'>&lt;-</span> <span class='no'>dfDeploy</span>
<span class='no'>p2</span>$<span class='no'>grainCol</span> <span class='kw'>&lt;-</span> <span class='st'>"PatientEncounterID"</span>
<span class='no'>p2</span>$<span class='no'>predictedCol</span> <span class='kw'>&lt;-</span> <span class='st'>"ThirtyDayReadmitFLG"</span>
<span class='no'>p2</span>$<span class='no'>impute</span> <span class='kw'>&lt;-</span> <span class='fl'>TRUE</span>
<span class='no'>p2</span>$<span class='no'>debug</span> <span class='kw'>&lt;-</span> <span class='fl'>FALSE</span>
<span class='no'>p2</span>$<span class='no'>cores</span> <span class='kw'>&lt;-</span> <span class='fl'>1</span>

<span class='no'>dL</span> <span class='kw'>&lt;-</span> <span class='no'>LassoDeployment</span>$<span class='fu'>new</span>(<span class='no'>p2</span>)
<span class='no'>dL</span>$<span class='fu'>deploy</span>()

<span class='co'>## Get predicted outcome changes using getProcessVariablesDf</span>

<span class='co'># getProcessVariablesDf only uses variables with non-zero coefficients, </span>
<span class='co'># automatically discarding the rest. In this example, only A1CNBR had a</span>
<span class='co'># nonzerocoefficient. Even though this variable is numeric, we can still use</span>
<span class='co'># getProcessVariablesDf using the variableLevels parameter. For examples with</span>
<span class='co'># categorical variables and additional details about getProcessVariablesDf,</span>
<span class='co'># see the examples in ?RandomForestDeployment</span>

<span class='no'>dL</span>$<span class='fu'>getProcessVariablesDf</span>(<span class='kw'>modifiableVariables</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"A1CNBR"</span>),
                         <span class='kw'>variableLevels</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='kw'>A1CNBR</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>5.6</span>, <span class='fl'>6.0</span>, <span class='fl'>6.5</span>)))

<span class='co'># By default, the function returns predictions for all rows, but we can </span>
<span class='co'># restrict to specific rows using the grainColumnIDs parameter</span>
<span class='no'>dL</span>$<span class='fu'>getProcessVariablesDf</span>(<span class='kw'>modifiableVariables</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"A1CNBR"</span>),
                         <span class='kw'>variableLevels</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='kw'>A1CNBR</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>5.6</span>, <span class='fl'>6.0</span>, <span class='fl'>6.5</span>)),
                         <span class='kw'>grainColumnIDs</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>951</span>, <span class='fl'>975</span>))

<span class='co'># The repeatedFactors parameter allows one to get multiple predictions  </span>
<span class='co'># forthe same variable. For example, reducing A1C to 5.6 might most improve a </span>
<span class='co'># patient's risk, but reducing A1C to 5.9 is likely to also reduce the risk.</span>
<span class='no'>dL</span>$<span class='fu'>getProcessVariablesDf</span>(<span class='kw'>modifiableVariables</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"A1CNBR"</span>),
                         <span class='kw'>variableLevels</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='kw'>A1CNBR</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>5.6</span>, <span class='fl'>5.9</span>, <span class='fl'>6.2</span>, <span class='fl'>6.5</span>)),
                         <span class='kw'>repeatedFactors</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='co'># The numTopFactors parameter allows one to set the maximum number of </span>
<span class='co'># predictions to display (with the default being 3)</span>
<span class='no'>dL</span>$<span class='fu'>getProcessVariablesDf</span>(<span class='kw'>modifiableVariables</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"A1CNBR"</span>),
                         <span class='kw'>variableLevels</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='kw'>A1CNBR</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>5.6</span>, <span class='fl'>5.9</span>, <span class='fl'>6.2</span>, <span class='fl'>6.5</span>)),
                         <span class='kw'>repeatedFactors</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
                         <span class='kw'>numTopFactors</span> <span class='kw'>=</span> <span class='fl'>2</span>)

<span class='co'># If we want to make predictions for increasing the probability (not</span>
<span class='co'># likely in the case of readmissions), we can do so using the smallerBetter</span>
<span class='co'># parameter. (Here, all the deltas will be non-negative, corresponding to an </span>
<span class='co'># increased risk)</span>
<span class='no'>dL</span>$<span class='fu'>getProcessVariablesDf</span>(<span class='kw'>modifiableVariables</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"A1CNBR"</span>),
                         <span class='kw'>variableLevels</span> <span class='kw'>=</span> <span class='fu'>list</span>(<span class='kw'>A1CNBR</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='fl'>5.6</span>, <span class='fl'>6.0</span>, <span class='fl'>6.5</span>)),
                         <span class='kw'>smallerBetter</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)
<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#format">Format</a></li>

      <li><a href="#methods">Methods</a></li>

      <li><a href="#-code-new-code-">&lt;code&gt;$new()&lt;/code&gt;</a></li>

      <li><a href="#-code-deploy-code-">&lt;code&gt;$deploy()&lt;/code&gt;</a></li>

      <li><a href="#-code-gettopfactors-code-">&lt;code&gt;$getTopFactors()&lt;/code&gt;</a></li>

      <li><a href="#-code-getoutdf-code-">&lt;code&gt;$getOutDf()&lt;/code&gt;</a></li>

      <li><a href="#-code-performnewpredictions-code-">&lt;code&gt;$performNewPredictions()&lt;/code&gt;</a></li>

      <li><a href="#-code-getprocessvariablesdf-code-">&lt;code&gt;$getProcessVariablesDf()&lt;/code&gt;</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Levi Thatcher, Michael Levy, Mike Mastanduno, Taylor Larsen, Taylor Miller.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
